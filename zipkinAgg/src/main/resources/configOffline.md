1h，delay不需要设置，idata的时间可以设置为是下一个小时的10分再开始。这样算的是整点小时
{'spark.es.mapping.id':'id',
'spark.aispeech.job.name':'zipkin_summary_1h',
'spark.aispeech.job.sink':'es',
'spark.aispeech.job.source':'es',
'spark.aispeech.job.log.level':'WARN',
'spark.aispeech.data.time.interval.minutes':'60',
'spark.aispeech.data.time.delay.minutes':'0',
'spark.aispeech.es.nodes':'10.24.1.44,10.24.1.23,10.24.1.24',
'spark.aispeech.es.port':'9200',
'spark.aispeech.es.nodes.wan.only':'false',
'spark.aispeech.read.es.type':'summary',
'spark.aispeech.read.es.index':'zipkin_span-',
'spark.aispeech.read.es.scroll.keepalive':'5m',
'spark.aispeech.read.es.scroll.size':'4000',
'spark.aispeech.write.es.index':'zipkin_summary_1h-',
'spark.aispeech.write.es.type':'summary',
'spark.aispeech.write.es.timeType':'1h',
'spark.aispeech.write.es.batch.size.bytes':'1mb',
'spark.aispeech.write.es.batch.size.entries':'1000',
'spark.aispeech.write.es.batch.write.refresh':'false',
'spark.memory.fraction':'0.8',
'spark.memory.storageFraction':'0.2',
'spark.yarn.driver.memoryOverhead':'2048mb',
'spark.yarn.executor.memoryOverhead':'2048mb',
'spark.cleaner.periodicGC.interval':'15min',
'spark.rdd.compress':'true',
'spark.sql.shuffle.partitions':'500',
'spark.network.timeout':'300s',
'spark.driver.extraJavaOptions':'-XX:+UseG1GC -XX:+UseCompressedOops',
'spark.executor.extraJavaOptions':'-XX:+UseG1GC -XX:+UseCompressedOops',
'spark.monitor.urls':'https://oapi.dingtalk.com/robot/send?access_token=0c44f10f6b0a02b06838010851293c2b8c61cb4e2e3849bcbb395172e72988a2',
'spark.serializer':'org.apache.spark.serializer.KryoSerializer'
}


5m, delay time 必须是5m的倍数
比如定时时间是10分，然后delay是10，实际计算的是0到5min。至少应该设置15
{'spark.es.mapping.id':'id',
'spark.aispeech.job.name':'zipkin_summary_5m',
'spark.aispeech.job.sink':'es',
'spark.aispeech.job.source':'es',
'spark.aispeech.job.log.level':'WARN',
'spark.aispeech.data.time.interval.minutes':'60',
'spark.aispeech.data.time.delay.minutes':'15',
'spark.aispeech.es.nodes':'10.24.1.44,10.24.1.23,10.24.1.24',
'spark.aispeech.es.port':'9200',
'spark.aispeech.es.nodes.wan.only':'false',
'spark.aispeech.read.es.type':'summary',
'spark.aispeech.read.es.index':'zipkin_span-',
'spark.aispeech.read.es.scroll.keepalive':'5m',
'spark.aispeech.read.es.scroll.size':'3000',
'spark.aispeech.write.es.index':'zipkin_summary_5m-',
'spark.aispeech.write.es.timeType':'5m',   // 影响到 开始时间怎么取、es的index
'spark.aispeech.write.es.type':'summary',
'spark.aispeech.write.es.batch.size.bytes':'2mb',
'spark.aispeech.write.es.batch.size.entries':'2000',
'spark.aispeech.write.es.batch.write.refresh':'false',
'spark.memory.fraction':'0.8',
'spark.memory.storageFraction':'0.2',
'spark.yarn.driver.memoryOverhead':'2048mb',
'spark.yarn.executor.memoryOverhead':'2048mb',
'spark.cleaner.periodicGC.interval':'15min',
'spark.rdd.compress':'true',
'spark.sql.shuffle.partitions':'500',
'spark.network.timeout':'300s',
'spark.driver.extraJavaOptions':'-XX:+UseG1GC -XX:+UseCompressedOops',
'spark.executor.extraJavaOptions':'-XX:+UseG1GC -XX:+UseCompressedOops',
'spark.monitor.urls':'https://oapi.dingtalk.com/robot/send?access_token=0c44f10f6b0a02b06838010851293c2b8c61cb4e2e3849bcbb395172e72988a2',
'spark.serializer':'org.apache.spark.serializer.KryoSerializer'
}


1d
{'spark.es.mapping.id':'id',
'spark.aispeech.job.name':'zipkin_summary_1d',
'spark.aispeech.job.sink':'es',
'spark.aispeech.job.source':'es',
'spark.aispeech.job.log.level':'WARN',
'spark.aispeech.data.time.interval.minutes':'1440',
'spark.aispeech.data.time.delay.minutes':'0',
'spark.aispeech.es.nodes':'10.24.1.44,10.24.1.23,10.24.1.24',
'spark.aispeech.es.port':'9200',
'spark.aispeech.es.nodes.wan.only':'false',
'spark.aispeech.read.es.type':'summary',
'spark.aispeech.read.es.index':'zipkin_span-',
'spark.aispeech.read.es.scroll.keepalive':'5m',
'spark.aispeech.read.es.scroll.size':'6000',
'spark.aispeech.write.es.index':'zipkin_summary_1d-',
'spark.aispeech.write.es.timeType':'1d',
'spark.aispeech.write.es.type':'summary',
'spark.aispeech.write.es.batch.size.bytes':'2mb',
'spark.aispeech.write.es.batch.size.entries':'2000',
'spark.aispeech.write.es.batch.write.refresh':'false',
'spark.memory.fraction':'0.8',
'spark.memory.storageFraction':'0.3',
'spark.yarn.driver.memoryOverhead':'2048mb',
'spark.yarn.executor.memoryOverhead':'2048mb',
'spark.cleaner.periodicGC.interval':'15min',
'spark.rdd.compress':'true',
'spark.sql.shuffle.partitions':'500',
'spark.network.timeout':'300s',
'spark.driver.extraJavaOptions':'-XX:+UseG1GC -XX:+UseCompressedOops',
'spark.executor.extraJavaOptions':'-XX:+UseG1GC -XX:+UseCompressedOops',
'spark.monitor.urls':'https://oapi.dingtalk.com/robot/send?access_token=0c44f10f6b0a02b06838010851293c2b8c61cb4e2e3849bcbb395172e72988a2',
'spark.serializer':'org.apache.spark.serializer.KryoSerializer' }